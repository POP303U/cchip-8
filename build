#!/bin/sh

# Script mostly used for Windows systems running on MINGW64
set -e

if [ -z "$1" ]; then
    echo "Usage: $0 <ROM file path>"
    exit 1
fi

if [[ $(uname | xargs) == "Linux" ]]; then
    make clean; make chip8; ./chip8 "$1" > out.log
    exit 0
fi

# Build for Windows
make clean
make chip8 
./chip8.exe "$1" > out.log

